
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://gdoyle87.github.io/COMP2801/wk_three/">
      
      
        <link rel="prev" href="../wk_two/">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>Week 3 - Structures and typedef - COMP2801</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.84d31ad4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/asciinema-player@3.0.1/dist/bundle/asciinema-player.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#week-3" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="COMP2801" class="md-header__button md-logo" aria-label="COMP2801" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            COMP2801
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Week 3 - Structures and typedef
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="COMP2801" class="md-nav__button md-logo" aria-label="COMP2801" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    COMP2801
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../wk_one/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Week 1 - Formatted Output in C
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../wk_two/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Week 2 - scanf and Recursion
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Week 3 - Structures and typedef
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Week 3 - Structures and typedef
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#structures" class="md-nav__link">
    <span class="md-ellipsis">
      Structures
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Structures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#member-types" class="md-nav__link">
    <span class="md-ellipsis">
      Member Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#defining-variables-of-structure-types" class="md-nav__link">
    <span class="md-ellipsis">
      Defining Variables of Structure Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#structures-without-tag-names" class="md-nav__link">
    <span class="md-ellipsis">
      Structures without Tag Names
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comparing-structure-objects" class="md-nav__link">
    <span class="md-ellipsis">
      Comparing Structure Objects
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://gdoyle87.github.io/COMP2701" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    COMP 2701
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://gdoyle87.github.io/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Other Notes
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#structures" class="md-nav__link">
    <span class="md-ellipsis">
      Structures
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Structures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#member-types" class="md-nav__link">
    <span class="md-ellipsis">
      Member Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#defining-variables-of-structure-types" class="md-nav__link">
    <span class="md-ellipsis">
      Defining Variables of Structure Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#structures-without-tag-names" class="md-nav__link">
    <span class="md-ellipsis">
      Structures without Tag Names
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comparing-structure-objects" class="md-nav__link">
    <span class="md-ellipsis">
      Comparing Structure Objects
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="week-3">Week 3</h1>
<p>This week covers <strong>structures</strong> and <strong>typedefs</strong>.</p>
<h2 id="structures">Structures</h2>
<p>A <strong>structure</strong> is a collection of related variables grouped under one name.
In the C standard, structures are referred to as <em>aggregates</em>.</p>
<p>The <code>struct</code> keyword is used to define a structure type:</p>
<pre><code class="language-c">// A structure for representing a playing card.
struct card {
    const char *face;
    const char *suit;
};  // Note: a semicolon is required after the closing brace.
</code></pre>
<p>The example above defines a new structure type named <code>card</code>.
The variables declared inside the braces (<code>face</code> and <code>suit</code>) are called <em>members</em>.</p>
<p>Since this type definition is a <em>declaration</em>, a semicolon must follow the 
closing brace.</p>
<h3 id="member-types">Member Types</h3>
<p>Structures can contain members of different types.
However, a structure cannot contain a member that is an instance of its own type.
For example, the following is invalid:</p>
<pre><code class="language-c">// Invalid: a structure cannot contain an instance of itself.
struct card {
    const char *face;
    const char *suit;
    struct card nextCard;  // Invalid
};
</code></pre>
<p>To work around this, use a pointer to the same type:</p>
<pre><code class="language-c">// Valid: a structure can contain a pointer to its own type.
struct card {
    const char *face;
    const char *suit;
    struct card *nextCard;  // Valid
};
</code></pre>
<p>This pattern is commonly used for creating nodes in a linked list.</p>
<h3 id="defining-variables-of-structure-types">Defining Variables of Structure Types</h3>
<p>Structure definitions alone only create a new <em>type</em> that can be used later in 
code; they do not reserve any space in memory. A structure definition is 
essentially a blueprint. To begin reserving memory for variables, use the 
following syntax:</p>
<pre><code class="language-c">// create a new card struct
struct card myCard;

// or create an array of card structs
struct card deck[52];

// or create a pointer to a card struct
struct card *cardPtr;
</code></pre>
<p>You can also create variables of a struct during the definition of the struct 
by providing a comma-separated list of variable names after the closing 
brace of the struct but before the ending semicolon of the declaration:</p>
<pre><code class="language-c">struct card {
    const char *face;
    const char *suit;
} myCard, deck[52], *cardPtr;
</code></pre>
<h3 id="structures-without-tag-names">Structures without Tag Names</h3>
<p>You can define a struct without a tag name:</p>
<pre><code class="language-c">struct {    // NOTE: no &quot;card&quot; tag name
    const char *face;
    const char *suit;
} exampleCard;
</code></pre>
<p>However, without a tag name, you cannot declare additional variables of this 
type later in the program. Therefore, you <em>must</em> provide variable names <em>during</em>
the declaration to use them.</p>
<hr>
<details><summary>Example</summary>


<pre><code class="language-c">// This defines and declares two variables immediately.
struct {
    int x;
    int y;
} point1, point2;
</code></pre>


</details>
<hr>

<h3 id="comparing-structure-objects">Comparing Structure Objects</h3>
<p>Structures <strong>cannot</strong> be compared using the operators <code>==</code> or <code>!=</code> because structure members may not be stored in consecutive bytes of memory. Compilers often insert padding bytes (known as <em>holes</em>) to align data members according to their type’s alignment requirements.</p>
<p>These holes can contain garbage values, which would cause comparisons between two otherwise identical structures to fail.</p>
<hr>

<details><summary>Example of holes</summary>

Suppose we have a struct defined as follows, with two variables of that type named <code>sample1</code> and <code>sample2</code>.


<pre><code class="language-c">struct example {
    char c;
    int i;
} sample1, sample2;
</code></pre>


Initially, the variables contain garbage values:

<img src="images/struct_gap1.png" alt="Initial garbage values" />

We then assign values to the members of <code>sample1</code>:


<pre><code class="language-c">sample1.c = 'G';
sample1.i = 42069;
</code></pre>


<img src="images/struct_gap2.png" alt="Assigned values in sample1" />

Notice that the <code>int</code> portion begins at byte 4. This is because integers *must* align on a 4-byte boundary, leaving a gap in bytes 1–3.

Next, we assign the same values to the members of <code>sample2</code>:


<pre><code class="language-c">sample2.c = 'G';
sample2.i = 42069;
</code></pre>


<img src="images/struct_gap3.png" alt="Assigned values in sample2" />

When comparing the two, the visible members appear equivalent, but the hidden padding bytes contain different values. Therefore, the two structs are **not** equal when compared byte-for-byte.

<img src="images/struct_gap4.png" alt="Mismatched padding bytes" />

</details>

<p><br></p>
<hr>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Test note!.</p>
</div>
<details><summary>More about structure packing</summary>

When structures are stored in memory, the compiler may insert padding bytes
between members to align data according to hardware requirements.
This can improve performance but may waste space.

You can minimize wasted space by ordering structure members from largest to smallest type (for example, `double` -> `int` -> `char`).
Some compilers also support pragmas such as `#pragma pack` to control alignment,
though this is compiler-specific and should be used with caution.

</details>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/asciinema-player@3.0.1/dist/bundle/asciinema-player.js"></script>
      
    
  </body>
</html>