
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://gdoyle87.github.io/COMP2801/wk_three/">
      
      
        <link rel="prev" href="../wk_two/">
      
      
        <link rel="next" href="../wk_four/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>Week 3 - Structures and typedef - COMP2801</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/asciinema-player@3.0.1/dist/bundle/asciinema-player.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#week-3" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="COMP2801" class="md-header__button md-logo" aria-label="COMP2801" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            COMP2801
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Week 3 - Structures and typedef
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue-grey" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="COMP2801" class="md-nav__button md-logo" aria-label="COMP2801" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    COMP2801
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../wk_one/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Week 1 - Formatted Output in C
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../wk_two/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Week 2 - scanf and Recursion
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Week 3 - Structures and typedef
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Week 3 - Structures and typedef
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#structures" class="md-nav__link">
    <span class="md-ellipsis">
      Structures
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Structures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#member-types" class="md-nav__link">
    <span class="md-ellipsis">
      Member Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#defining-variables-of-structure-types" class="md-nav__link">
    <span class="md-ellipsis">
      Defining Variables of Structure Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#structures-without-tag-names" class="md-nav__link">
    <span class="md-ellipsis">
      Structures without Tag Names
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comparing-structure-objects" class="md-nav__link">
    <span class="md-ellipsis">
      Comparing Structure Objects
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-sizeof-with-structures" class="md-nav__link">
    <span class="md-ellipsis">
      Using sizeof with Structures
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#typedef" class="md-nav__link">
    <span class="md-ellipsis">
      typedef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="typedef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#combining-typedef-with-struct-definitions" class="md-nav__link">
    <span class="md-ellipsis">
      Combining typedef with struct Definitions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-readable-and-consistent-type-aliases" class="md-nav__link">
    <span class="md-ellipsis">
      Creating Readable and Consistent Type Aliases
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../wk_four/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Week 4 - Unions, Bit manipulations
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../wk_five/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Week 5 - Linked Lists and Trees
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://gdoyle87.github.io/COMP2701" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    COMP 2701
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://gdoyle87.github.io/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Other Notes
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="week-3">Week 3</h1>
<p>This week covers <strong>structures</strong> and <strong>typedefs</strong>.</p>
<h2 id="structures">Structures</h2>
<p>A <strong>structure</strong> is a collection of related variables grouped under one name.
In the C standard, structures are referred to as <em>aggregates</em>.</p>
<p>The <code>struct</code> keyword is used to define a structure type:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// A structure for representing a playing card.</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">card</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">face</span><span class="p">;</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">suit</span><span class="p">;</span>
<span class="p">};</span><span class="w">  </span><span class="c1">// Note: a semicolon is required after the closing brace.</span>
</code></pre></div>
<p>The example above defines a new structure type named <code>card</code>.
The variables declared inside the braces (<code>face</code> and <code>suit</code>) are called <em>members</em>.</p>
<p>Since this type definition is a <em>declaration</em>, a semicolon must follow the 
closing brace.</p>
<hr>

<h3 id="member-types">Member Types</h3>
<p>Structures can contain members of different types.
However, a structure cannot contain a member that is an instance of its own type.
For example, the following is invalid:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Invalid: a structure cannot contain an instance of itself.</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">card</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">face</span><span class="p">;</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">suit</span><span class="p">;</span>
<span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">card</span><span class="w"> </span><span class="n">nextCard</span><span class="p">;</span><span class="w">  </span><span class="c1">// Invalid</span>
<span class="p">};</span>
</code></pre></div>
<p>To work around this, use a pointer to the same type:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Valid: a structure can contain a pointer to its own type.</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">card</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">face</span><span class="p">;</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">suit</span><span class="p">;</span>
<span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">card</span><span class="w"> </span><span class="o">*</span><span class="n">nextCard</span><span class="p">;</span><span class="w">  </span><span class="c1">// Valid</span>
<span class="p">};</span>
</code></pre></div>
<p>This pattern is commonly used for creating nodes in a linked list.</p>
<hr>

<h3 id="defining-variables-of-structure-types">Defining Variables of Structure Types</h3>
<p>Structure definitions alone only create a new <em>type</em> that can be used later in 
code; they do not reserve any space in memory. A structure definition is 
essentially a blueprint. To begin reserving memory for variables, use the 
following syntax:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// create a new card struct</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">card</span><span class="w"> </span><span class="n">myCard</span><span class="p">;</span>

<span class="c1">// or create an array of card structs</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">card</span><span class="w"> </span><span class="n">deck</span><span class="p">[</span><span class="mi">52</span><span class="p">];</span>

<span class="c1">// or create a pointer to a card struct</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">card</span><span class="w"> </span><span class="o">*</span><span class="n">cardPtr</span><span class="p">;</span>
</code></pre></div>
<p>You can also create variables of a struct during the definition of the struct 
by providing a comma-separated list of variable names after the closing 
brace of the struct but before the ending semicolon of the declaration:</p>
<div class="highlight"><pre><span></span><code><span class="k">struct</span><span class="w"> </span><span class="nc">card</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">face</span><span class="p">;</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">suit</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">myCard</span><span class="p">,</span><span class="w"> </span><span class="n">deck</span><span class="p">[</span><span class="mi">52</span><span class="p">],</span><span class="w"> </span><span class="o">*</span><span class="n">cardPtr</span><span class="p">;</span>
</code></pre></div>
<hr>

<h3 id="structures-without-tag-names">Structures without Tag Names</h3>
<p>You can define a struct without a tag name:</p>
<div class="highlight"><pre><span></span><code><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w">    </span><span class="c1">// NOTE: no &quot;card&quot; tag name</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">face</span><span class="p">;</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">suit</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">exampleCard</span><span class="p">;</span>
</code></pre></div>
<p>However, without a tag name, you cannot declare additional variables of this 
type later in the program. Therefore, you <em>must</em> provide variable names <em>during</em>
the declaration to use them.</p>
<div class="highlight"><pre><span></span><code><span class="c1">// This defines and declares two variables immediately.</span>
<span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">point1</span><span class="p">,</span><span class="w"> </span><span class="n">point2</span><span class="p">;</span>
</code></pre></div>
<hr>

<h3 id="comparing-structure-objects">Comparing Structure Objects</h3>
<p>Structures <strong>cannot</strong> be compared using the operators <code>==</code> or <code>!=</code> because
structure members may not be stored in consecutive bytes of memory. Compilers
often insert padding bytes to align data members according
to their type’s alignment requirements.</p>
<p>These holes contain <strong>unspecified values</strong>, which may differ between structures
even if all members are identical. In rare cases, they might coincidentally
contain the same garbage data (for example, if memory was recently zeroed or
reused), making a bytewise comparison <em>appear</em> to return true. However, this
behavior is entirely <strong>undefined</strong> and cannot be relied upon.</p>
<p>In short, even if two structures look the same in memory, the C standard
provides <strong>no guarantee</strong> that comparing them byte-by-byte would produce
consistent results.</p>
<details class="example">
<summary>Illustration of padding and comparison</summary>
<p>Suppose we have a struct defined as follows, with two variables of that type
named <code>sample1</code> and <code>sample2</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">struct</span><span class="w"> </span><span class="nc">example</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">sample1</span><span class="p">,</span><span class="w"> </span><span class="n">sample2</span><span class="p">;</span>
</code></pre></div>
<p>Initially, the variables contain garbage values:</p>
<p><img src="../images/struct_gap1.png" alt="Initial garbage values" /></p>
<p>We then assign values to the members of <code>sample1</code>:</p>
<div class="highlight"><pre><span></span><code><span class="n">sample1</span><span class="p">.</span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;G&#39;</span><span class="p">;</span>
<span class="n">sample1</span><span class="p">.</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">42069</span><span class="p">;</span>
</code></pre></div>
<p><img src="../images/struct_gap2.png" alt="Assigned values in sample1" /></p>
<p>Notice that the <code>int</code> portion begins at byte 4. This is because
integers <em>must</em> align on a 4-byte boundary, leaving a gap in bytes 1–3.</p>
<p>Next, we assign the same values to the members of <code>sample2</code>:</p>
<div class="highlight"><pre><span></span><code><span class="n">sample2</span><span class="p">.</span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;G&#39;</span><span class="p">;</span>
<span class="n">sample2</span><span class="p">.</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">42069</span><span class="p">;</span>
</code></pre></div>
<p><img src="../images/struct_gap3.png" alt="Assigned values in sample2" /></p>
<p>When comparing the two, the visible members appear equivalent, but the hidden
padding bytes may contain different, undefined values. Even if both happen to
contain zeros or identical garbage, it would be by coincidence, not by rule.
The result of comparing such structs directly would therefore be <strong>undefined</strong>.</p>
<p><img src="../images/struct_gap4.png" alt="Mismatched padding bytes" /></p>
</details>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Padding bytes are not initialized or standardized by the C language. Comparing
structs as raw memory is undefined behavior and should never be used as a
substitute for member-by-member comparison.</p>
</div>
<p><br></p>
<hr>

<h3 id="using-sizeof-with-structures">Using <code>sizeof</code> with Structures</h3>
<p>The <code>sizeof</code> operator can be used to determine the amount of memory a structure occupies. However, the value returned by <code>sizeof</code> a structure often exceeds the sum of its members' sizes due to <strong>padding and alignment</strong>.</p>
<p>For example:</p>
<div class="highlight"><pre><span></span><code><span class="k">struct</span><span class="w"> </span><span class="nc">example</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<span class="p">};</span>

<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%zu</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">example</span><span class="p">));</span><span class="w">  </span><span class="c1">// Likely prints 8, not 5</span>
</code></pre></div>
<p>The <code>sizeof</code> value includes both the member data and any extra bytes the compiler adds to satisfy memory alignment requirements.</p>
<div class="admonition note">
<p class="admonition-title">Structure packing and alignment</p>
<p>When structures are stored in memory, the compiler may insert <strong>padding bytes</strong> 
between members to align data according to hardware requirements. This 
improves access performance but can waste space.</p>
<p>You can minimize wasted space by ordering structure members from largest to 
smallest type (for example, <code>double</code> then <code>int</code> then <code>char</code>).</p>
<p>Some compilers provide directives like <code>#pragma pack</code> to override default 
alignment and reduce padding. However, this is <strong>compiler-specific</strong> and 
may lead to portability or performance issues. </p>
<p>It is generally recommended to <strong>avoid using <code>#pragma pack</code></strong> unless you 
have a clear and justified need, such as matching external binary data formats.</p>
</div>
<hr>

<h2 id="typedef"><code>typedef</code></h2>
<p><code>typedef</code> allows you to create synonyms (or aliases) for previously defined
types.</p>
<p>It is commonly used to create shorter names for struct types and simplify
declarations of types like function pointers.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can use typedef to avoid retyping out struct card each time you create
a new variable of type card.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">card</span><span class="w"> </span><span class="n">Card</span><span class="p">;</span>
<span class="c1">// you can now declare a new card struct as follows</span>
<span class="n">Card</span><span class="w"> </span><span class="n">newCard</span><span class="p">;</span>
</code></pre></div>
</div>
<hr>

<h3 id="combining-typedef-with-struct-definitions">Combining <code>typedef</code> with <code>struct</code> Definitions</h3>
<p>You can combine <code>typedef</code> with a <code>struct</code> declaration to make your code cleaner 
and more readable.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Basic struct definition</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">card</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">face</span><span class="p">;</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">suit</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">// typedef struct definition</span>
<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">face</span><span class="p">;</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">suit</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">Card</span><span class="p">;</span>

<span class="c1">// Create an instance of each</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">card</span><span class="w"> </span><span class="n">basicCard</span><span class="p">;</span>
<span class="n">Card</span><span class="w"> </span><span class="n">typeDefCard</span><span class="p">;</span>
</code></pre></div>
</div>
<p>Using <code>typedef</code> in this way eliminates the need to repeatedly write <code>struct</code> 
when declaring variables and clearly separates the definition of the structure 
from its use as a type.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When using <code>typedef</code> in this manner, do <strong>not</strong> include variables in the 
struct definition itself. Doing so would cause those variables to be 
recreated every time the alias is used.</p>
<p>If you need to define variables along with the structure, use the standard 
<code>struct</code> definition and then follow it with a separate <code>typedef</code> alias, as 
shown in the previous section.</p>
</div>
<hr>

<h3 id="creating-readable-and-consistent-type-aliases">Creating Readable and Consistent Type Aliases</h3>
<p><code>typedef</code> is also used to create clear, platform-independent type names. 
This is common in system-level programming and game development, where 
developers want to ensure that integer sizes and data types are explicit and 
consistent across compilers.</p>
<p>For example, we can define type aliases like this:</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w">  </span><span class="n">uint8</span><span class="p">;</span>
<span class="k">typedef</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">uint16</span><span class="p">;</span>
<span class="k">typedef</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">uint32</span><span class="p">;</span>
<span class="k">typedef</span><span class="w"> </span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">uint64</span><span class="p">;</span>

<span class="k">typedef</span><span class="w"> </span><span class="kt">int8_t</span><span class="w">  </span><span class="n">int8</span><span class="p">;</span>
<span class="k">typedef</span><span class="w"> </span><span class="kt">int16_t</span><span class="w"> </span><span class="n">int16</span><span class="p">;</span>
<span class="k">typedef</span><span class="w"> </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">int32</span><span class="p">;</span>
<span class="k">typedef</span><span class="w"> </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">int64</span><span class="p">;</span>

<span class="k">typedef</span><span class="w"> </span><span class="n">int32</span><span class="w"> </span><span class="n">bool32</span><span class="p">;</span>

<span class="k">typedef</span><span class="w"> </span><span class="kt">float</span><span class="w">  </span><span class="n">real32</span><span class="p">;</span>
<span class="k">typedef</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">real64</span><span class="p">;</span>
</code></pre></div>
<p>These aliases improve clarity by clearly expressing the <strong>intended size</strong> 
and <strong>purpose</strong> of each type, regardless of the compiler or platform.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>This technique helps:</p>
<ul>
<li>Make code <strong>explicit</strong> about the bit-width of each type.</li>
<li>Improve <strong>portability</strong>, since <code>stdint.h</code> guarantees fixed-width integer 
types like <code>int32_t</code> and <code>uint16_t</code>.</li>
<li>Enhance <strong>readability</strong>, particularly in codebases where naming 
consistency (like <code>real32</code> vs <code>float</code>) helps distinguish between conceptual 
or mathematical types.</li>
</ul>
</div>
<hr>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["toc.integrate", "navigation.expand", "navigation.sections"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/asciinema-player@3.0.1/dist/bundle/asciinema-player.js"></script>
      
        <script src="../js/ll_stepper.js"></script>
      
    
  </body>
</html>